<app-menu></app-menu>

<div class="container">
  <mat-toolbar color="primary" class="toolbar">Patient</mat-toolbar>
  <div class="actions">
    <button mat-raised-button color="primary" routerLink="/patient/add">Add</button>
  </div>
  <mat-form-field appearance="outline" class="filter">
    <mat-label>Name / Identification</mat-label>
    <input matInput (input)="applyFilter($event)" placeholder="Write here...">
  </mat-form-field>
  <div class="table-container">
    <table mat-table [dataSource]="dataSource" class="custom-table mat-elevation-z8">
      <!-- Columns -->
      <ng-container matColumnDef="first_Name">
        <th mat-header-cell *matHeaderCellDef> Name </th>
        <td mat-cell *matCellDef="let patient"> {{ patient.first_Name }} </td>
      </ng-container>

      <ng-container matColumnDef="family_Name">
        <th mat-header-cell *matHeaderCellDef> Family name </th>
        <td mat-cell *matCellDef="let patient"> {{ patient.family_Name }} </td>
      </ng-container>

      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef> Email </th>
        <td mat-cell *matCellDef="let patient"> {{ patient.email }} </td>
      </ng-container>

      <ng-container matColumnDef="phone_Number">
        <th mat-header-cell *matHeaderCellDef> Phone number </th>
        <td mat-cell *matCellDef="let patient"> {{ patient.phone_Number }} </td>
      </ng-container>

      <ng-container matColumnDef="identification">
        <th mat-header-cell *matHeaderCellDef> Identification </th>
        <td mat-cell *matCellDef="let patient"> {{ patient.identification }} </td>
      </ng-container>

      <ng-container matColumnDef="birth_Date">
        <th mat-header-cell *matHeaderCellDef> Birth date </th>
        <td mat-cell *matCellDef="let patient"> {{ patient.birth_Date | date }} </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef> - </th>
        <td mat-cell *matCellDef="let patient">
          <button mat-button color="warn" (click)="deletePatient(patient.patient_ID)">Delete</button>
          <button mat-button color="accent" (click)="redirectToEdit(patient.patient_ID)">Edit</button>
          <button mat-button (click)="redirectToDetail(patient.patient_ID)">Detail</button>
        </td>
      </ng-container>

      <!-- Header and Rows -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
  <mat-paginator [pageSize]="5" [pageSizeOptions]="[5, 10, 20]"></mat-paginator>
</div>
